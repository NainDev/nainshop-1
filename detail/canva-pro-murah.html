<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Produk - Canva Premium</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
            max-width: 768px;
            margin: 0 auto;
        }

        .product-title {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .cart-dropdown {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            width: 320px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .cart-dropdown.show {
            display: block;
        }

        .checkout-details {
            display: none;
        }

        .checkout-details.show {
            display: block;
        }
        
        /* Memperbaiki sudut gambar agar tidak lancip */
        .product-image {
            border-radius: 8px;
            overflow: hidden;
        }
        
        .remove-item {
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .remove-item:hover {
            color: #e53e3e;
        }

        /* Image slider styles */
        .slider-container {
            position: relative;
            width: 100%;
            overflow: hidden;
            border-radius: 8px;
        }

        .slider {
            display: flex;
            transition: transform 0.5s ease;
        }

        .slide {
            min-width: 100%;
            height: 100%;
        }

        .slider-nav {
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 6px;
        }

        .slider-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
        }

        .slider-dot.active {
            background-color: white;
        }

        .slider-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 10;
        }

        .slider-arrow-left {
            left: 10px;
        }

        .slider-arrow-right {
            right: 10px;
        }

        /* Product description tab styles */
        .tab-button {
            padding: 10px 20px;
            border-bottom: 2px solid transparent;
            cursor: pointer;
        }

        .tab-button.active {
            border-bottom: 2px solid #ec4899;
            color: #ec4899;
        }

        .tab-content {
            display: none;
            padding: 16px 0;
        }

        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50">
<!-- Top Navbar -->
<nav class="bg-white shadow-md fixed top-0 left-0 right-0 z-10">
    <div class="max-w-7xl mx-auto">
        <div class="flex justify-between items-center h-16 px-4">
            <a href="/" class="text-gray-600">
                <i class="ri-arrow-left-line text-xl"></i>
            </a>
            <div class="flex-1 mx-4">
                <h1 class="text-center text-gray-800 font-semibold">Detail Produk</h1>
            </div>
            <div class="flex items-center gap-4 relative">
                <!-- Menghilangkan elemen keranjang -->
            </div>
        </div>
    </div>
</nav>

    <!-- Main Content -->
    <div class="mt-20 pb-24">
        <!-- Product Image Slider -->
        <div class="slider-container h-80">
            <div class="slider" id="productSlider">
                <div class="slide">
                    <img src="/details/img/canva-1.jpg" alt="Foto Produk 1" class="w-full h-full object-cover">
                </div>
                <div class="slide">
                    <img src="/api/placeholder/640/480" alt="Foto Produk 2" class="w-full h-full object-cover">
                </div>
                <div class="slide">
                    <img src="/api/placeholder/640/480" alt="Foto Produk 3" class="w-full h-full object-cover">
                </div>
                <div class="slide">
                    <img src="/api/placeholder/640/480" alt="Foto Produk 4" class="w-full h-full object-cover">
                </div>
            </div>
            <div class="slider-nav" id="sliderNav">
                <!-- Will be filled dynamically -->
            </div>
            <div class="slider-arrow slider-arrow-left" id="sliderLeft">
                <i class="ri-arrow-left-s-line text-gray-800"></i>
            </div>
            <div class="slider-arrow slider-arrow-right" id="sliderRight">
                <i class="ri-arrow-right-s-line text-gray-800"></i>
            </div>
        </div>

<!-- Product Info -->
<div class="p-4 bg-white mb-3">
    <div class="flex items-center justify-between mb-2">
        <h1 class="text-xl font-semibold text-gray-800" id="productName">Canva Premium Murah, Unlock elemen Premium & Bergaransi, Spesial Ramadhanüòç</h1>
        <!-- Menghilangkan tombol wishlist icon love -->
    </div>
    <div class="flex items-baseline mb-3">
        <span class="text-2xl font-semibold text-pink-500" id="productPrice">Rp 3.000</span>
        <span class="text-gray-400 text-sm line-through ml-2" id="productOriginalPrice">Rp 5.000</span>

    </div>
    <div class="flex items-center text-sm text-gray-600 mb-1">
        <i class="ri-star-fill text-yellow-400"></i>
        <span class="ml-1" id="productRating">4.8</span>
        <span class="mx-1">|</span>
        <span id="productSold">30 Terjual</span>
    </div>
    <div class="text-sm text-gray-600">
        <i class="ri-map-pin-line"></i>
        <span class="ml-1" id="productLocation">Cirebon</span>
    </div>
</div>

        <!-- Product Tabs -->
        <div class="bg-white mb-20">
            <div class="flex border-b">
                <div class="tab-button active" onclick="showTab('description')">Deskripsi</div>
                <div class="tab-button" onclick="showTab('specification')">Spesifikasi</div>
                <div class="tab-button" onclick="showTab('reviews')">Ulasan</div>
            </div>
            <div class="px-4">
                <div id="description" class="tab-content active">
                    <p class="text-gray-600 mb-4">
                     Dapatkan <strong>Canva Premium</strong> dengan harga terbaik! Nikmati fitur eksklusif seperti elemen premium, font, dan template tanpa batas untuk desain yang lebih profesional.
                    </p>
                    <p class="text-gray-600 mb-4">
                        Fitur unggulan:
                    </p>
<ul class="list-disc pl-5 text-gray-600 mb-4">
    <li>Akses Premium ke Template dan Elemen Desain:</li>
    <li>Magic Resize</li>
    <li>Brand Kit</li>
    <li>Penghapus Latar Belakang</li>
    <li>Kolaborasi Tim</li>
    <li>Konten Planner</li>
    <li>Animasi dan GIF</li>
    <li>Penyimpanan Tanpa Batas</li>
</ul>
                    <p class="text-gray-600 mb-4">
                      Cocok buat kamu yang sering ngedit-ngedit! Untuk berlangganan Canva Premium dan mendapatkan garansi penuh sesuai dengan masa durasi yang dipilih, nikmati berbagai fitur eksklusif yang mendukung kreativitas tanpa batas.
                    </p>
                    <p class="text-gray-600">
                      Garansi resmi mencakup seluruh layanan selama periode berlangganan. Jika terdapat kendala, hubungi admin secepatnya.
                    </p>
                </div>
                <div id="specification" class="tab-content">
                    <table class="w-full">
                        <tr class="border-b">
                            <td class="py-2 text-gray-600 font-medium">Aplikasi</td>
                            <td class="py-2 text-gray-800">Canva</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 text-gray-600 font-medium">Elemen Premium</td>
                            <td class="py-2 text-gray-800">Terbuka üîì</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 text-gray-600 font-medium">Durasi</td>
                            <td class="py-2 text-gray-800">1 Bulan, 3 Bulan, 6 Bulan, 1 Tahun</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 text-gray-600 font-medium">Tipe</td>
                            <td class="py-2 text-gray-800">Premium</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 text-gray-600 font-medium">Garansi</td>
                            <td class="py-2 text-gray-800">Full 100%</td>
                        </tr>
                    </table>
                </div>
                <div id="reviews" class="tab-content">
                    <div class="mb-4">
                        <div class="flex items-center mb-2">
                            <div class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center mr-2">
                                <span class="text-gray-500 text-sm">AP</span>
                            </div>
                            <div>
                                <div class="font-medium text-gray-800">Andi Purnama</div>
                                <div class="flex items-center">
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-fill text-yellow-400"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm">
                            Sepatu sangat nyaman dipakai, bahannya berkualitas dan ringan. Saya pakai untuk lari 5 km setiap pagi dan tidak pernah sakit kaki. Pengiriman juga cepat. Rekomendasi!
                        </p>
                        <div class="text-xs text-gray-400 mt-1">2 hari yang lalu</div>
                    </div>
                    <div class="mb-4">
                        <div class="flex items-center mb-2">
                            <div class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center mr-2">
                                <span class="text-gray-500 text-sm">FS</span>
                            </div>
                            <div>
                                <div class="font-medium text-gray-800">Fira Santika</div>
                                <div class="flex items-center">
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-line text-yellow-400"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm">
                            Ukurannya sesuai dan desainnya keren banget. Satu bintang dikurangi karena warnanya sedikit berbeda dari foto, tapi overall puas dengan pembelian ini.
                        </p>
                        <div class="text-xs text-gray-400 mt-1">1 minggu yang lalu</div>
                    </div>
                    <div>
                        <div class="flex items-center mb-2">
                            <div class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center mr-2">
                                <span class="text-gray-500 text-sm">RD</span>
                            </div>
                            <div>
                                <div class="font-medium text-gray-800">Rudi Darmawan</div>
                                <div class="flex items-center">
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-fill text-yellow-400"></i>
                                    <i class="ri-star-half-fill text-yellow-400"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm">
                            Kualitas bahan sangat bagus, terutama sol yang empuk. Sudah 2 bulan pakai untuk gym dan jogging, masih awet. Pembeli sebelumnya benar, sol-nya memang anti slip banget. Worth it dengan harganya!
                        </p>
                        <div class="text-xs text-gray-400 mt-1">1 bulan yang lalu</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- Sticky Bottom Buy Button -->
<div class="fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t p-4 z-10" style="max-width: 768px; margin: 0 auto;">
    <div class="flex items-center justify-between">
        <div class="flex items-center">
            <button class="w-10 h-10 border rounded-lg flex items-center justify-center mr-2">
                <i class="ri-store-2-line text-gray-600"></i>
            </button>
            <button class="w-10 h-10 border rounded-lg flex items-center justify-center">
                <i class="ri-customer-service-2-line text-gray-600"></i>
            </button>
        </div>
        <div class="flex-1 flex ml-4">
            <!-- Menghilangkan tombol "Tambah ke Keranjang" dan membuat tombol "Beli Sekarang" full width -->
            <button id="buyNowButton" class="flex-1 bg-pink-500 text-white rounded-lg py-3 font-medium">
                Beli Sekarang
            </button>
        </div>
    </div>
</div>

    <!-- Checkout Details Modal -->
    <div id="checkoutDetails" class="checkout-details fixed inset-0 bg-black bg-opacity-50 z-50">
        <div class="bg-white max-w-md mx-auto mt-20 rounded-lg shadow-lg">
            <div class="p-4">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-semibold text-lg">Detail Checkout</h3>
                    <button onclick="hideCheckoutDetails()" class="text-gray-500 hover:text-gray-700">
                        <i class="ri-close-line text-xl"></i>
                    </button>
                </div>
                <div id="checkoutItems" class="space-y-4">
                    <!-- Checkout items will be displayed here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Product and Cart Scripts -->
<script>
// Product definition
const currentProduct = {
    id: 'canva001',
    name: 'Canva Premium Murah, Unlock elemen Premium & Bergaransi, Spesial Ramadhanüòç',
    price: 3000,
    originalPrice: 5000,
    discount: 50,
    images: [
        '/details/img/canva-1.jpg',
        '/api/placeholder/640/480',
        '/api/placeholder/640/480',
        '/api/placeholder/640/480'
    ],
    rating: 4.8,
    sold: 30,
    location: 'Cirebon',
    buyLink: '#'
};

// Image slider functionality
let currentSlide = 0;
const slider = document.getElementById('productSlider');
const sliderNav = document.getElementById('sliderNav');
const slides = document.querySelectorAll('.slide');

// Create slider dots
for (let i = 0; i < slides.length; i++) {
    const dot = document.createElement('div');
    dot.className = 'slider-dot' + (i === 0 ? ' active' : '');
    dot.onclick = () => {
        goToSlide(i);
    };
    sliderNav.appendChild(dot);
}

function goToSlide(n) {
    currentSlide = n;
    updateSlider();
}

function updateSlider() {
    slider.style.transform = `translateX(${-currentSlide * 100}%)`;
    
    // Update dots
    const dots = document.querySelectorAll('.slider-dot');
    dots.forEach((dot, index) => {
        if (index === currentSlide) {
            dot.classList.add('active');
        } else {
            dot.classList.remove('active');
        }
    });
}

document.getElementById('sliderLeft').addEventListener('click', () => {
    currentSlide = (currentSlide - 1 + slides.length) % slides.length;
    updateSlider();
});

document.getElementById('sliderRight').addEventListener('click', () => {
    currentSlide = (currentSlide + 1) % slides.length;
    updateSlider();
});

// Tab functionality
function showTab(tabId) {
    // Hide all tabs
    document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
    });
    
    // Remove active class from all buttons
    document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
    });
    
    // Show selected tab
    document.getElementById(tabId).classList.add('active');
    
    // Add active class to clicked button
    event.currentTarget.classList.add('active');
}

// Load product info when page loads
window.addEventListener('DOMContentLoaded', function() {
    // Set product info
    document.getElementById('productName').textContent = currentProduct.name;
    document.getElementById('productPrice').textContent = `Rp ${currentProduct.price.toLocaleString()}`;
    document.getElementById('productOriginalPrice').textContent = `Rp ${currentProduct.originalPrice.toLocaleString()}`;
    document.getElementById('productRating').textContent = currentProduct.rating;
    document.getElementById('productSold').textContent = `${currentProduct.sold} Terjual`;
    document.getElementById('productLocation').textContent = currentProduct.location;
});

// Bottom Nav Buttons Function
// Function for store button
document.querySelector('.ri-store-2-line').parentElement.addEventListener('click', function() {
    window.location.href = '#toko';
    alert('Membuka halaman toko');
});

// Function for customer service button
document.querySelector('.ri-customer-service-2-line').parentElement.addEventListener('click', function() {
    window.location.href = '#cs';
    alert('Menghubungi layanan pelanggan');
});

// Duration selection popup
const buyNowButton = document.getElementById('buyNowButton');
buyNowButton.addEventListener('click', function() {
    showDurationPopup();
});

// Definisi harga dan durasi
const durationOptions = [
    { duration: "1 Bulan", days: 30, price: 3000 },
    { duration: "3 Bulan", days: 90, price: 8500 },
    { duration: "6 Bulan", days: 180, price: 16000 },
    { duration: "1 Tahun", days: 365, price: 30000 }
];

let selectedDurationIndex = 0; // Default ke opsi pertama

function showDurationPopup() {
    // Create popup container if it doesn't exist
    if (!document.getElementById('durationPopup')) {
        const popupHTML = `
            <div id="durationPopup" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end justify-center overflow-y-auto">
                <div class="bg-white w-full max-w-md rounded-t-xl p-5 transform transition-transform duration-300" style="transform: translateY(100%); max-height: 90vh; overflow-y: auto;">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold">Pilih Durasi Berlangganan</h3>
                        <button id="closeDurationBtn" class="text-gray-500">
                            <i class="ri-close-line text-xl"></i>
                        </button>
                    </div>
                    
                    <div class="space-y-3 mb-6" id="durationOptionsContainer">
                        ${durationOptions.map((option, index) => `
                            <div class="border border-gray-200 rounded-lg p-3 flex justify-between items-center duration-option ${index === 0 ? 'border-pink-500 bg-pink-50' : ''}" data-index="${index}">
                                <div>
                                    <h4 class="font-medium">${option.duration}</h4>
                                    <p class="text-sm text-gray-600">Akses Premium ${option.days} hari</p>
                                </div>
                                <div class="text-pink-500 font-semibold">Rp ${option.price.toLocaleString()}</div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <button id="payNowBtn" class="w-full bg-pink-500 text-white py-3 rounded-lg font-medium">
                        Bayar Sekarang
                    </button>
                </div>
            </div>
        `;
        
        const popupDiv = document.createElement('div');
        popupDiv.innerHTML = popupHTML;
        document.body.appendChild(popupDiv.firstElementChild);
        
        // Animation to show the popup
        setTimeout(() => {
            document.querySelector('#durationPopup > div').style.transform = 'translateY(0)';
        }, 10);
        
        // Add event listeners
        document.getElementById('closeDurationBtn').addEventListener('click', hideDurationPopup);
        
        // Add event listeners to duration options
        const optionsContainer = document.getElementById('durationOptionsContainer');
        optionsContainer.addEventListener('click', function(e) {
            const option = e.target.closest('.duration-option');
            if (option) {
                // Remove selected class from all options
                document.querySelectorAll('.duration-option').forEach(opt => 
                    opt.classList.remove('border-pink-500', 'bg-pink-50'));
                
                // Add selected class to clicked option
                option.classList.add('border-pink-500', 'bg-pink-50');
                
                // Update selected index
                selectedDurationIndex = parseInt(option.dataset.index);
            }
        });
        
        // Add event listener to Pay Now button
        document.getElementById('payNowBtn').addEventListener('click', function() {
            hideDurationPopup();
            showPaymentPopup();
        });
    } else {
        // Show existing popup
        document.getElementById('durationPopup').style.display = 'flex';
        setTimeout(() => {
            document.querySelector('#durationPopup > div').style.transform = 'translateY(0)';
        }, 10);
    }
}

function hideDurationPopup() {
    const popup = document.querySelector('#durationPopup > div');
    popup.style.transform = 'translateY(100%)';
    setTimeout(() => {
        document.getElementById('durationPopup').style.display = 'none';
    }, 300);
}

function showPaymentPopup() {
    // Create payment popup if it doesn't exist
    if (!document.getElementById('paymentPopup')) {
        const selectedOption = durationOptions[selectedDurationIndex];
        // Ubah ke metode pembayaran QRIS
        const paymentHTML = `
            <div id="paymentPopup" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center overflow-y-auto">
                <div class="bg-white w-full max-w-md rounded-xl p-5 m-4 transform transition-transform duration-300 scale-95 opacity-0" style="max-height: 90vh; overflow-y: auto;">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-semibold">Metode Pembayaran</h3>
                        <button id="closePaymentBtn" class="text-gray-500">
                            <i class="ri-close-line text-xl"></i>
                        </button>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-4 mb-6">
                        <div class="flex justify-between text-sm mb-2">
                            <span class="text-gray-600">Produk</span>
                            <span>Canva Premium</span>
                        </div>
                        <div class="flex justify-between text-sm mb-2">
                            <span class="text-gray-600">Durasi</span>
                            <span id="selectedDuration">${selectedOption.duration}</span>
                        </div>
                        <div class="flex justify-between font-semibold">
                            <span>Total Pembayaran</span>
                            <span class="text-pink-500" id="totalPayment">Rp ${selectedOption.price.toLocaleString()}</span>
                        </div>
                    </div>
                    
                    <form id="paymentForm" action="https://formspree.io/f/mrbpkyyk" method="POST" class="mb-6">
                        <div class="mb-4">
                            <label for="whatsapp" class="block text-sm font-medium text-gray-700 mb-1">Nomor WhatsApp <span class="text-red-500">*</span></label>
                            <input type="tel" id="whatsapp" name="whatsapp" required 
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"
                                placeholder="Contoh: 628123456789">
                        </div>
                        <div class="mb-4">
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email <span class="text-red-500">*</span></label>
                            <input type="email" id="email" name="email" required 
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"
                                placeholder="Contoh: email@domain.com">
                        </div>
                        <input type="hidden" name="product" value="Canva Premium">
                        <input type="hidden" name="duration" value="${selectedOption.duration}">
                        <input type="hidden" name="price" value="${selectedOption.price}">
                        
                        <div class="mb-6">
                            <h4 class="font-medium mb-3">Metode Pembayaran QRIS:</h4>
                            
                            <div class="border border-gray-200 rounded-lg p-4 flex flex-col items-center">
                                <img src="https://tmpfiles.org/dl/22936558/1742827158717ueeapnyfow.png" alt="QRIS Code" class="mb-4 w-48 h-48">
                                <div class="text-center mb-3">
                                    <p class="font-semibold text-gray-800">Scan QR Code di atas untuk melakukan pembayaran</p>
                                    <p class="text-sm text-gray-600 mt-2">Nominal: <span class="font-medium">Rp ${selectedOption.price.toLocaleString()}</span></p>
                                </div>
                                <div class="bg-yellow-50 border border-yellow-200 p-3 rounded-lg w-full text-sm text-gray-700">
                                    <p class="font-medium mb-2">Petunjuk Pembayaran:</p>
                                    <ol class="list-decimal pl-5 space-y-1">
                                        <li>Buka aplikasi e-wallet atau mobile banking Anda</li>
                                        <li>Pilih menu Scan QR/QRIS</li>
                                        <li>Arahkan kamera ke QR Code di atas</li>
                                        <li>Periksa nominal pembayaran</li>
                                        <li>Konfirmasi dan selesaikan pembayaran</li>
                                        <li>Pembayaran akan otomatis terverifikasi</li>
                                    </ol>
                                    <p class="mt-3 text-xs">Jika dalam 5 menit pembayaran belum terverifikasi, silakan hubungi CS kami.</p>
                                </div>
                            </div>
                        </div>
                        
                        <button type="submit" id="confirmPaymentBtn" class="w-full bg-pink-500 text-white py-3 rounded-lg font-medium">
                            Saya Sudah Bayar
                        </button>
                    </form>
                </div>
            </div>
        `;
        
        const paymentDiv = document.createElement('div');
        paymentDiv.innerHTML = paymentHTML;
        document.body.appendChild(paymentDiv.firstElementChild);
        
        // Animation to show the popup
        setTimeout(() => {
            const paymentModal = document.querySelector('#paymentPopup > div');
            paymentModal.style.transform = 'scale(1)';
            paymentModal.style.opacity = '1';
        }, 10);
        
        // Add event listeners
        document.getElementById('closePaymentBtn').addEventListener('click', hidePaymentPopup);
        
        // Handle form submission
        document.getElementById('paymentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(this);
            
            // Send data to Formspree
            fetch(this.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                if (response.ok) {
                    hidePaymentPopup();
                    showSuccessMessage();
                } else {
                    throw new Error('Network response was not ok');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Terjadi kesalahan saat mengirim data. Silakan coba lagi.');
            });
        });
    } else {
        // Show existing popup
        document.getElementById('paymentPopup').style.display = 'flex';
        // Update data berdasarkan opsi yang dipilih
        const selectedOption = durationOptions[selectedDurationIndex];
        document.getElementById('selectedDuration').textContent = selectedOption.duration;
        document.getElementById('totalPayment').textContent = `Rp ${selectedOption.price.toLocaleString()}`;
        
        setTimeout(() => {
            const paymentModal = document.querySelector('#paymentPopup > div');
            paymentModal.style.transform = 'scale(1)';
            paymentModal.style.opacity = '1';
        }, 10);
    }
}

function hidePaymentPopup() {
    const paymentModal = document.querySelector('#paymentPopup > div');
    paymentModal.style.transform = 'scale(0.95)';
    paymentModal.style.opacity = '0';
    setTimeout(() => {
        document.getElementById('paymentPopup').style.display = 'none';
    }, 300);
}

// Fungsi untuk menampilkan pesan sukses setelah pembayaran
function showSuccessMessage() {
    if (!document.getElementById('successPopup')) {
        const successHTML = `
            <div id="successPopup" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center">
                <div class="bg-white w-full max-w-md rounded-xl p-5 m-4 transform transition-transform duration-300 scale-95 opacity-0 text-center">
                    <div class="flex justify-center mb-4">
                        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">
                            <i class="ri-check-line text-3xl text-green-500"></i>
                        </div>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">Pembayaran Berhasil!</h3
                    <p class="text-gray-600 mb-4">Terima kasih telah melakukan pembayaran untuk Canva Premium. Tim kami sedang memastikan apakah pembayaran tersebut valid atau tidak.</p>
                    <p class="text-sm text-gray-500 mb-6">Kami akan mengirimkan detail link akun ke WhatsApp dan email kamu, Estimasi 1-2 Jam. </p>
                    <button id="closeSuccessBtn" class="w-full bg-pink-500 text-white py-3 rounded-lg font-medium">
                        Kembali ke Beranda
                    </button>
                </div>
            </div>
        `;
        
        const successDiv = document.createElement('div');
        successDiv.innerHTML = successHTML;
        document.body.appendChild(successDiv.firstElementChild);
        
        // Animation to show the popup
        setTimeout(() => {
            const successModal = document.querySelector('#successPopup > div');
            successModal.style.transform = 'scale(1)';
            successModal.style.opacity = '1';
        }, 10);
        
        // Add event listener to close button
        document.getElementById('closeSuccessBtn').addEventListener('click', function() {
            window.location.href = '/';
        });
    } else {
        // Show existing popup
        document.getElementById('successPopup').style.display = 'flex';
        setTimeout(() => {
            const successModal = document.querySelector('#successPopup > div');
            successModal.style.transform = 'scale(1)';
            successModal.style.opacity = '1';
        }, 10);
    }
}
</script>
    </script>
</body>
                                                                                     </html>
